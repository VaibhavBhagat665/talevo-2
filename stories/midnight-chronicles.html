<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Enchanted Forest | Talevo</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="midnight.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    .story-controls {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-top: 30px;
    }
    .story-controls button {
      padding: 10px 20px;
      border: none;
      background: #1e293b;
      color: white;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    .story-controls button:hover {
      background: #3b82f6;
      transform: translateY(-2px);
    }
    .loading-indicator {
      text-align: center;
      padding: 2rem;
      font-size: 1.2rem;
      color: #ccc;
    }
  </style>
</head>
<body class="dark-mode story-page">
  <main class="container forest-theme">
    <img src="https://iili.io/3QX415P.png" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: -1;" />
    <header class="story-header">
      <div class="logo-container">
        <a href="https://talevo.netlify.app/" class="logo">
          <svg class="logo-svg" viewBox="0 0 200 60">
            <path d="M10,15 Q30,5 60,10 T100,10 T140,10 T190,15 Q200,30 190,45 T140,50 T100,50 T60,50 Q30,55 10,45 Q0,30 10,15" fill="none" stroke="currentColor" stroke-width="2"></path>
            <text fill="currentColor" font-size="26" font-weight="bold" x="50" y="36" letter-spacing="2">Talevo</text>
            <circle class="star star1" cx="25" cy="25" fill="currentColor" r="3"></circle>
            <circle class="star star2" cx="175" cy="20" fill="currentColor" r="2.5"></circle>
            <circle class="star star3" cx="155" cy="40" fill="currentColor" r="2"></circle>
            <circle class="star star4" cx="40" cy="45" fill="currentColor" r="1.5"></circle>
            <circle class="star star5" cx="130" cy="15" fill="currentColor" r="2"></circle>
            <circle class="star star6" cx="100" cy="48" fill="currentColor" r="1"></circle>
            <circle class="star star7" cx="180" cy="35" fill="currentColor" r="1"></circle>
          </svg>
        </a>
      </div>
      <div class="story-nav">
        <a href="https://talevo.netlify.app/" class="back">
          <button class="btn btn-icon" id="backBtn"><i class="fas fa-arrow-left"></i></button>
        </a>
        <div class="story-title">The Enchanted Forest</div>
        <div class="story-controls">
          <button class="btn btn-icon" id="bookmarkBtn"><i class="far fa-bookmark"></i></button>
          <button class="btn btn-icon" id="shareBtn"><i class="fas fa-share-alt"></i></button>
        </div>
      </div>
    </header>
    <main class="container">
      <div id="loader" class="loading-indicator">Loading story...</div>
      <div class="story-container" id="story-container" style="display: none;"></div>

      <!-- Ending chapters (HTML only) -->
  
    
    <div class="story-chapter hidden" id="ending-1">
  <div class="chapter-image">
    <img src="/api/placeholder/400/250" alt="Dawn of Victory">
  </div>
  <h2 class="chapter-title">Ending: Dawn of Victory</h2>
  <div class="chapter-text">
    <p>Your combined power blazed like a star in the darkness, and the entity's screams shook the very foundations of reality as it was banished back to the void. The covenant was reborn, stronger than ever, forged not from duty alone but from willing sacrifice and the bonds of fellowship.</p>
    <p>Thomas Blackwood stood beside you as the first rays of dawn broke through the dissipating shadows. Together, you had not only stopped the ancient evil but found a way to bind it permanently, ensuring that future generations would never face this terror again.</p>
    <p>Ravenhollow awakened to a world cleansed, and the villagers spoke of the night when two young guardians restored the light to their darkest hour. The manor, once a prison of shadows, became a beacon of hope.</p>
    <p><strong>THE END</strong></p>
  </div>
  <div class="story-restart">
    <button class="restart-btn">Start Over</button>
  </div>
</div>

<div class="story-chapter hidden" id="ending-2">
  <div class="chapter-image">
    <img src="/api/placeholder/400/250" alt="The Binding Eternal">
  </div>
  <h2 class="chapter-title">Ending: The Binding Eternal</h2>
  <div class="chapter-text">
    <p>Following Cordelia's notes and your own intuition, you managed to complete her final ritual. The entity was not destroyed—such beings cannot truly die—but it was bound so completely that it would slumber for a thousand years or more.</p>
    <p>The cost was everything. Your life force was woven into the binding, and you felt yourself fading even as the darkness receded. But you had saved not just Ravenhollow, but the entire world from a hunger that would have consumed everything.</p>
    <p>Your spirit joined those of the guardians who came before, watching over the seal and ensuring that if the entity ever stirred again, someone would be there to stand against it. In death, you found a purpose greater than life.</p>
    <p>The village erected a monument in your honor, though few would ever know the full truth of what you sacrificed. But the world turned on, safe and bright, because you chose to stand in the darkness.</p>
    <p><strong>THE END</strong></p>
  </div>
  <div class="story-restart">
    <button class="restart-btn">Start Over</button>
  </div>
</div>

<div class="story-chapter hidden" id="ending-3">
  <div class="chapter-image">
    <img src="/api/placeholder/400/250" alt="The Dark Transformation">
  </div>
  <h2 class="chapter-title">Ending: The Dark Transformation</h2>
  <div class="chapter-text">
    <p>The entity's power flowed through you like molten darkness, changing you at the most fundamental level. You were no longer entirely human, but you were no longer entirely helpless either. The creature found itself bound to your will, its hunger now yours to command.</p>
    <p>With this terrible power, you reshaped the rules of the game. The entity would feed, yes, but only on those who deserved its attention—the cruel, the corrupt, the irredeemably evil. You became judge, jury, and executioner, walking the line between salvation and damnation.</p>
    <p>Ravenhollow whispered stories of the Shadow Guardian who emerged from Blackthorn Manor, protecting the innocent and punishing the wicked with supernatural just

  </div>
      
  </main>
  <script src="script.js"></script>
  <script>
    async function loadStoryFromJSON() {
      const response = await fetch("midnight-chronicles.json");
      const storyData = await response.json();
      const container = document.getElementById("story-container");
      const loader = document.getElementById("loader");

      storyData.forEach((chapter) => {
        if (chapter.id.startsWith("ending-")) return; // Skip endings from JSON

        const chapterDiv = document.createElement("div");
        chapterDiv.classList.add("story-chapter");
        chapterDiv.id = chapter.id;
        if (chapter.id !== "chapter-1") chapterDiv.classList.add("hidden");

        chapterDiv.innerHTML = `
          <div class="chapter-image">
            <img src="${chapter.image}" alt="Chapter image" />
          </div>
          <h2 class="chapter-title">${chapter.title}</h2>
          <div class="chapter-text">
            ${chapter.text.map((p) => `<p>${p}</p>`).join("")}
          </div>
          <div class="story-choices">
            <h3>What will you do?</h3>
            <div class="choice-options">
              ${chapter.choices
                .map(
                  (choice) => `
                <button class="choice-btn" data-next="${choice.next}">
                  ${choice.text}
                </button>`
                )
                .join("")}
            </div>
          </div>
        `;
        container.appendChild(chapterDiv);
      });

      loader.style.display = "none";
      container.style.display = "block";

      initStoryChoiceButtons();
      updateStoryStats();

      const savedChapter = localStorage.getItem("currentChapter");
      if (savedChapter && document.getElementById(savedChapter)) {
        document.querySelectorAll(".story-chapter").forEach((ch) =>
          ch.classList.add("hidden")
        );
        document.getElementById(savedChapter).classList.remove("hidden");
        window.scrollTo({ top: 0 });
      }
    }

    document.addEventListener("DOMContentLoaded", loadStoryFromJSON);

    d
