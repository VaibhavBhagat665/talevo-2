<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Library - Talevo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="nav-container">
      <div class="logo">
        <svg class="logo-svg" viewBox="0 0 200 60">
          <path d="M10,15 Q30,5 60,10 T100,10 T140,10 T190,15 Q200,30 190,45 T140,50 T100,50 T60,50 Q30,55 10,45 Q0,30 10,15" 
            fill="none" stroke="currentColor" stroke-width="2">
          </path>
          <text fill="currentColor" font-size="26" font-weight="bold" x="50" y="36" letter-spacing="2">
            Talevo
          </text>
          <circle class="star star1" cx="25" cy="25" fill="currentColor" r="3"></circle>
          <circle class="star star2" cx="175" cy="20" fill="currentColor" r="2.5"></circle>
          <circle class="star star3" cx="155" cy="40" fill="currentColor" r="2"></circle>
          <circle class="star star4" cx="40" cy="45" fill="currentColor" r="1.5"></circle>
          <circle class="star star5" cx="130" cy="15" fill="currentColor" r="2"></circle>
        </svg>
      </div>
      
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="#" class="active">Library</a>
      </div>
      
      <div class="user-actions">
        <div class="welcome-msg">
          <i class="fas fa-user-circle"></i>
          <span id="username-display">Welcome!</span>
        </div>
        
        <button class="theme-toggle" aria-label="Toggle dark mode">
          <i class="fas fa-sun"></i>
        </button>
        
        <div class="account-wrapper">
          <button class="account-button" id="accountToggle">
            <i class="fas fa-user-circle"></i>
            <span id="account-name">Username</span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </button>
          <div class="account-menu hidden">
            <a href="library.html" class="active"><i class="fas fa-book-open"></i> Your Library</a>
            <a href="#" id="signout-link"><i class="fas fa-sign-out-alt"></i> Sign Out</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="library-main">
    <div class="container">
      <!-- Library Header -->
      <div class="library-header">
        <div class="library-title-section">
          <button class="back-btn" onclick="window.location.href='index.html'">
            <i class="fas fa-arrow-left"></i>
            Back to Home
          </button>
          <h1 class="library-title">
            <i class="fas fa-book-open"></i>
            Your Library
          </h1>
          <p class="library-subtitle" id="library-username">Welcome to your personal story collection</p>
        </div>
        
        <div class="library-stats">
          <div class="stat-card">
            <div class="stat-number" id="total-stories">0</div>
            <div class="stat-label">Stories Saved</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="stories-in-progress">0</div>
            <div class="stat-label">In Progress</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="stories-completed">0</div>
            <div class="stat-label">Completed</div>
          </div>
        </div>
      </div>

      <!-- Library Content -->
      <div class="library-content">
        <!-- Loading State -->
        <div class="library-loading" id="library-loading">
          <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
          </div>
          <p>Loading your library...</p>
        </div>

        <!-- Empty State -->
        <div class="library-empty hidden" id="library-empty">
          <div class="empty-icon">
            <i class="fas fa-book-open"></i>
          </div>
          <h2>Your library is empty</h2>
          <p>Start building your collection by adding stories from our featured selection.</p>
          <button class="btn" onclick="window.location.href='index.html'">
            <i class="fas fa-home"></i>
            Browse Stories
          </button>
        </div>

        <!-- Stories Grid -->
        <div class="library-stories" id="library-stories">
          <!-- Story cards will be loaded here -->
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-container">
      <div class="footer-col">
        <h3>About Talevo</h3>
        <p>Talevo is a platform for interactive storytelling where readers can make choices that influence the direction of the story.</p>
      </div>
      
      <div class="footer-col">
        <h3>Quick Links</h3>
        <ul class="footer-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="library.html">Your Library</a></li>
          <li><a href="index.html#featured">Featured Stories</a></li>
          <li><a href="index.html#categories">Categories</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom container">
      <p>&copy; 2025 Talevo - Interactive Stories by Vaibhav Bhagat. All rights reserved.</p>
    </div>
  </footer>

  <!-- Firebase Configuration -->
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="firebase-auth.js"></script>
  <script type="module" src="library.js"></script>
</body>
</html>
